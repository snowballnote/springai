package com.example.openai0113.service;

import org.springframework.ai.image.ImageModel;
import org.springframework.ai.image.ImagePrompt;
import org.springframework.ai.image.ImageResponse;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;sss

@Service
public class ImageModelService {
	@Autowired private ImageModel imageModel; // 이미지를 생성하는 ai모델
	
	public String getImageResponse(String userMessage) {
		ImagePrompt imagePrompt = new ImagePrompt(userMessage);
		ImageResponse imageResponse = ImageModel.call(imagePrompt); // 백엔드 서버 어딘가에 이미지가 생성되
		return imageResponse.getResult().getOutput().getUrl(); // 생성된 이미지의 url만 반환

	}
}
